import streamlit as st
from datetime import date

# ë³„ìë¦¬ íŒë³„ í•¨ìˆ˜
def get_zodiac(month, day):
    zodiac = [
        ("ë¬¼ë³‘ìë¦¬", (1, 20), (2, 18)),
        ("ë¬¼ê³ ê¸°ìë¦¬", (2, 19), (3, 20)),
        ("ì–‘ìë¦¬", (3, 21), (4, 19)),
        ("í™©ì†Œìë¦¬", (4, 20), (5, 20)),
        ("ìŒë‘¥ì´ìë¦¬", (5, 21), (6, 21)),
        ("ê²Œìë¦¬", (6, 22), (7, 22)),
        ("ì‚¬ììë¦¬", (7, 23), (8, 22)),
        ("ì²˜ë…€ìë¦¬", (8, 23), (9, 22)),
        ("ì²œì¹­ìë¦¬", (9, 23), (10, 22)),
        ("ì „ê°ˆìë¦¬", (10, 23), (11, 22)),
        ("ì‚¬ìˆ˜ìë¦¬", (11, 23), (12, 21)),
        ("ì—¼ì†Œìë¦¬", (12, 22), (1, 19)),
    ]
    for sign, start, end in zodiac:
        if (month == start[0] and day >= start[1]) or (month == end[0] and day <= end[1]):
            return sign
    return "ì•Œ ìˆ˜ ì—†ìŒ"

# ìš´ì„¸ ë°ì´í„° (ë³„ìë¦¬ + ì„±ë³„ + ê¸°ë¶„ ë°˜ì˜)
fortune_data = {
    "ì–‘ìë¦¬": {
        "ë‚¨ì„±": {
            "ğŸ˜Š ì¢‹ìŒ": {"love": "ìì‹ ê°ìœ¼ë¡œ ë§¤ë ¥ ìƒìŠ¹!", "money": "íˆ¬ììš´ì´ ì¢‹ì•„ìš”.", "health": "ì—ë„ˆì§€ ë„˜ì¹¨!", "style": "ê°•ë ¬í•œ ìƒ‰ìƒì˜ ìì¼“"},
            "ğŸ˜ ë³´í†µ": {"love": "ì£¼ë³€ì„ ì˜ ì‚´í´ë³´ì„¸ìš”.", "money": "ì§€ì¶œ ê´€ë¦¬ í•„ìš”.", "health": "ì»¨ë””ì…˜ ë³´í†µ.", "style": "ì‹¬í”Œ ìºì£¼ì–¼"},
            "ğŸ˜¢ ìš°ìš¸": {"love": "ì¹œêµ¬ì™€ ëŒ€í™”ê°€ ë„ì›€ë¼ìš”.", "money": "ì§€ì¶œì€ í”¼í•˜ì„¸ìš”.", "health": "íœ´ì‹ í•„ìš”.", "style": "í¸ì•ˆí•œ í›„ë“œí‹°"}
        },
        "ì—¬ì„±": {
            "ğŸ˜Š ì¢‹ìŒ": {"love": "ë¡œë§¨í‹±í•œ í•˜ë£¨ê°€ ë  ê±°ì˜ˆìš”!", "money": "ì‡¼í•‘ì— í–‰ìš´ì´!", "health": "í™œë ¥ ê°€ë“!", "style": "ë ˆë“œ ì›í”¼ìŠ¤"},
            "ğŸ˜ ë³´í†µ": {"love": "ìƒëŒ€ë°©ì„ ë°°ë ¤í•´ ë³´ì„¸ìš”.", "money": "ì†Œì†Œí•œ ìˆ˜ì…ì´ ìˆì–´ìš”.", "health": "í‰ë²”í•œ í•˜ë£¨.", "style": "ì‹¬í”Œ ë¸”ë¼ìš°ìŠ¤"},
            "ğŸ˜¢ ìš°ìš¸": {"love": "í˜¼ìë³´ë‹¤ ì¹œêµ¬ì™€ í•¨ê»˜ ğŸ’•", "money": "ì§€ì¶œ ì¡°ì‹¬!", "health": "ëª¸ê³¼ ë§ˆìŒì´ ì§€ì¹¨.", "style": "íŒŒìŠ¤í…” í†¤ ë‹ˆíŠ¸"}
        },
        "ê¸°íƒ€": {
            "ğŸ˜Š ì¢‹ìŒ": {"love": "ìƒˆë¡œìš´ ì¸ì—°ì´ ì°¾ì•„ì˜¬ì§€ë„?", "money": "ëœ»ë°–ì˜ ìˆ˜ì…!", "health": "ê±´ê°•ìš´ ìµœê³ !", "style": "íŠ¸ë Œë””í•œ ì•„ì´í…œ"},
            "ğŸ˜ ë³´í†µ": {"love": "ëŠê¸‹í•˜ê²Œ ê¸°ë‹¤ë ¤ë³´ì„¸ìš”.", "money": "í˜„ ìƒíƒœ ìœ ì§€.", "health": "ë¬´ë‚œí•œ í•˜ë£¨.", "style": "ìºì£¼ì–¼ ì…”ì¸ "},
            "ğŸ˜¢ ìš°ìš¸": {"love": "ë§ˆìŒì„ ì—´ë©´ ì¢‹ì€ ì¼ì´!", "money": "ì§€ì¶œ ì¡°ì‹¬!", "health": "ìŠ¤íŠ¸ë ˆìŠ¤ ì£¼ì˜.", "style": "ë£¨ì¦ˆí• ìŠ¤íƒ€ì¼"}
        }
    },
    # ë‹¤ë¥¸ ë³„ìë¦¬ë„ ë¹„ìŠ·í•˜ê²Œ ì¶”ê°€ ê°€ëŠ¥ (ë¬¼ê³ ê¸°, í™©ì†Œ ë“±)
}

st.title("âœ¨ ì˜¤ëŠ˜ì˜ ë§ì¶¤ ìš´ì„¸ & ìŠ¤íƒ€ì¼ ì¶”ì²œ âœ¨")

# ì‚¬ìš©ì ì…ë ¥
name = st.text_input("ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”")
gender = st.selectbox("ì„±ë³„ì„ ì„ íƒí•˜ì„¸ìš”", ["ë‚¨ì„±", "ì—¬ì„±", "ê¸°íƒ€"])
birthday = st.date_input("ìƒì¼ì„ ì„ íƒí•˜ì„¸ìš”", min_value=date(2000, 1, 1), max_value=date(2025, 12, 31))
mood = st.radio("ì˜¤ëŠ˜ì˜ ê¸°ë¶„ì€ ì–´ë–¤ê°€ìš”?", ["ğŸ˜Š ì¢‹ìŒ", "ğŸ˜ ë³´í†µ", "ğŸ˜¢ ìš°ìš¸"])

if st.button("ì˜¤ëŠ˜ì˜ ìš´ì„¸ ë³´ê¸°"):
    zodiac = get_zodiac(birthday.month, birthday.day)
    
    if zodiac in fortune_data and gender in fortune_data[zodiac]:
        result = fortune_data[zodiac][gender][mood]
        st.subheader(f"ğŸ”® {name}ë‹˜ì˜ ì˜¤ëŠ˜ì˜ ìš´ì„¸ ({zodiac})")
        st.write(f"â¤ï¸ ì‚¬ë‘ìš´: {result['love']}")
        st.write(f"ğŸ’° ê¸ˆì „ìš´: {result['money']}")
        st.write(f"ğŸ’ª ê±´ê°•ìš´: {result['health']}")
        st.write(f"ğŸ‘— ìŠ¤íƒ€ì¼ ì¶”ì²œ: {result['style']}")
        st.success(f"ì˜¤ëŠ˜ í•˜ë£¨ë„ ë©‹ì§€ê²Œ ë³´ë‚´ì„¸ìš”, {name}ë‹˜!")
    else:
        st.warning("ì•„ì§ í•´ë‹¹ ë³„ìë¦¬ì˜ ìš´ì„¸ ë°ì´í„°ê°€ ì¤€ë¹„ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤ ğŸ˜…")
