import streamlit as st
import random
import datetime

# ===============================
# CSS ìŠ¤íƒ€ì¼
# ===============================
st.markdown("""
<style>
/* ë°°ê²½: ë¶„í™ë¹› ë°¤í•˜ëŠ˜ ê·¸ë¼ë°ì´ì…˜ */
.stApp {
    background: linear-gradient(to bottom, #2e003e, #8e3e63, #ff6f91);
    color: #ffffff;
    overflow: hidden;
}

/* ì œëª© ì¤‘ì•™ ë°°ì¹˜ + ì˜ˆìœ ê¸€ì */
.title-container {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 30vh;
}
.custom-title {
    font-size: 60px;
    font-weight: bold;
    text-align: center;
    background: linear-gradient(45deg, #FFD1DC, #FFB6C1, #FF69B4);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-shadow: 2px 2px 10px rgba(0,0,0,0.5);
}

/* ë¼ë²¨ ìƒ‰ìƒ */
div[data-baseweb="select"] > label,
div[data-baseweb="datepicker"] > label {
    color: #D8BFFF !important;
    font-weight: bold;
    font-size: 20px !important;
}

/* selectbox ì„ íƒì§€ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
div[data-baseweb="select"] > div > div > input {
    color: #4B0082 !important;
    font-size: 18px !important;
}


/* ëœë¤ ìŠ¤í‹°ì»¤ */
.sticker {
    position: fixed;
    font-size: 35px;
    animation: float 6s infinite;
    opacity: 0.9;
}
@keyframes float {
    0% { transform: translateY(0px); }
    50% { transform: translateY(-25px); }
    100% { transform: translateY(0px); }
}

/* ê²°ê³¼ê°’ ì¤‘ì•™ ì •ë ¬ */
.result-container {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    margin-top: 20px;
}
    
    st.markdown('</div>', unsafe_allow_html=True)
</style>
""", unsafe_allow_html=True)

# ===============================
# ì œëª© í‘œì‹œ
# ===============================
st.markdown("""
<div class="title-container">
    <h1 class="custom-title">ğŸŒ™ í˜ˆì•¡í˜• & ë³„ìë¦¬ íŠ¹ì§• âœ¨</h1>
</div>
""", unsafe_allow_html=True)

# ===============================
# ëœë¤ ìŠ¤í‹°ì»¤ ìƒì„±
# ===============================
stickers = ["ğŸŒ¸", "ğŸŒ™", "â­", "ğŸ¦„", "ğŸ°", "ğŸ±", "ğŸŒˆ", "ğŸ’–", "ğŸ“", "âœ¨", "ğŸ€", "ğŸ‰", "ğŸ’«", "ğŸŒ¼", "ğŸ€"]
num_stickers = 20
sticker_html = ""
for _ in range(num_stickers):
    emoji = random.choice(stickers)
    top = random.randint(0, 95)
    left = random.randint(0, 95)
    delay = random.uniform(0, 5)
    sticker_html += f'<div class="sticker" style="top:{top}%; left:{left}%; animation-delay:{delay}s">{emoji}</div>'
st.markdown(sticker_html, unsafe_allow_html=True)
# -------------------- ì‚¬ìš©ì ì…ë ¥ --------------------
blood_type = st.selectbox("í˜ˆì•¡í˜•ì„ ì„ íƒí•˜ì„¸ìš”", ["A", "B", "O", "AB"])
min_date = datetime.date(1900, 1, 1)
max_date = datetime.date(2025, 12, 31)

birth_date = st.date_input(
    "ìƒì¼ì„ ì„ íƒí•˜ì„¸ìš”",
    value=datetime.date(2000, 1, 1),  # ê¸°ë³¸ê°’
    min_value=min_date,
    max_value=max_date
)

# -------------------- ë³„ìë¦¬ ê³„ì‚° --------------------
def get_zodiac(month, day):
    if (month == 3 and day >= 21) or (month == 4 and day <= 19):
        return "ì–‘ìë¦¬"
    elif (month == 4 and day >= 20) or (month == 5 and day <= 20):
        return "í™©ì†Œìë¦¬"
    elif (month == 5 and day >= 21) or (month == 6 and day <= 21):
        return "ìŒë‘¥ì´ìë¦¬"
    elif (month == 6 and day >= 22) or (month == 7 and day <= 22):
        return "ê²Œìë¦¬"
    elif (month == 7 and day >= 23) or (month == 8 and day <= 22):
        return "ì‚¬ììë¦¬"
    elif (month == 8 and day >= 23) or (month == 9 and day <= 23):
        return "ì²˜ë…€ìë¦¬"
    elif (month == 9 and day >= 24) or (month == 10 and day <= 22):
        return "ì²œì¹­ìë¦¬"
    elif (month == 10 and day >= 23) or (month == 11 and day <= 22):
        return "ì „ê°ˆìë¦¬"
    elif (month == 11 and day >= 23) or (month == 12 and day <= 21):
        return "ì‚¬ìˆ˜ìë¦¬"
    elif (month == 12 and day >= 22) or (month == 1 and day <= 19):
        return "ì—¼ì†Œìë¦¬"
    elif (month == 1 and day >= 20) or (month == 2 and day <= 18):
        return "ë¬¼ë³‘ìë¦¬"
    elif (month == 2 and day >= 19) or (month == 3 and day <= 20):
        return "ë¬¼ê³ ê¸°ìë¦¬"

# -------------------- í˜ˆì•¡í˜• íŠ¹ì§• --------------------
blood_traits = {
    "A": "ì‹ ì¤‘í•˜ê³  ê¼¼ê¼¼í•˜ë©° ì±…ì„ê°ì´ ê°•í•´ìš”.",
    "B": "ì°½ì˜ì ì´ê³  ììœ ë¶„ë°©í•˜ë©° ê°œì„±ì´ ëšœë ·í•´ìš”.",
    "O": "ì‚¬êµì ì´ê³  ë¦¬ë”ì‹­ì´ ìˆìœ¼ë©° ì—ë„ˆì§€ê°€ ë„˜ì³ìš”.",
    "AB": "ì´ì„±ì ì´ë©´ì„œë„ ê°ì„±ì ì¸ ë…íŠ¹í•œ ë§¤ë ¥ì´ ìˆì–´ìš”."
}

# -------------------- ë³„ìë¦¬ íŠ¹ì§• --------------------
zodiac_traits = {
    "ì–‘ìë¦¬": "ë„ì „ ì •ì‹ ì´ ê°•í•˜ê³  ì—´ì •ì ì´ì—ìš”.",
    "í™©ì†Œìë¦¬": "ëˆê¸° ìˆê³  ì•ˆì •ì ì¸ ì„±í–¥ì´ì—ìš”.",
    "ìŒë‘¥ì´ìë¦¬": "í˜¸ê¸°ì‹¬ì´ ë§ê³  ë‹¤ì¬ë‹¤ëŠ¥í•´ìš”.",
    "ê²Œìë¦¬": "ê°€ì¡±ê³¼ ì¹œêµ¬ë¥¼ ì†Œì¤‘íˆ ì—¬ê¸°ë©° ë”°ëœ»í•´ìš”.",
    "ì‚¬ììë¦¬": "ìì‹ ê°ì´ ë„˜ì¹˜ê³  ì¹´ë¦¬ìŠ¤ë§ˆê°€ ìˆì–´ìš”.",
    "ì²˜ë…€ìë¦¬": "ë¶„ì„ì ì´ê³  ì„¬ì„¸í•˜ë©° í˜„ì‹¤ì ì´ì—ìš”.",
    "ì²œì¹­ìë¦¬": "ì¡°í™”ë¥¼ ì¤‘ìš”ì‹œí•˜ê³  ë§¤ë ¥ì ì¸ ì„±ê²©ì´ì—ìš”.",
    "ì „ê°ˆìë¦¬": "ì—´ì •ì ì´ê³  ì§ê´€ë ¥ì´ ë›°ì–´ë‚˜ìš”.",
    "ì‚¬ìˆ˜ìë¦¬": "ììœ ë¡­ê³  ë‚™ì²œì ì¸ ì„±í–¥ì´ì—ìš”.",
    "ì—¼ì†Œìë¦¬": "ì„±ì‹¤í•˜ê³  ëª©í‘œ ì§€í–¥ì ì´ì—ìš”.",
    "ë¬¼ë³‘ìë¦¬": "ë…ì°½ì ì´ê³  ì§„ë³´ì ì¸ ì‚¬ê³ ë¥¼ í•´ìš”.",
    "ë¬¼ê³ ê¸°ìë¦¬": "ê°ìˆ˜ì„±ì´ í’ë¶€í•˜ê³  ìƒìƒë ¥ì´ ë›°ì–´ë‚˜ìš”."
}

# -------------------- í˜ˆì•¡í˜• + ë³„ìë¦¬ ì¡°í•© í•´ì„ --------------------
combo_traits = {
    # Aí˜•
    ("A", "ì–‘ìë¦¬"): "ì‹ ì¤‘í•¨ê³¼ ì¶”ì§„ë ¥ì´ ì¡°í™”ë¥¼ ì´ë£¨ì–´ ê³„íšì ì¸ ë¦¬ë”ê°€ ë¼ìš”.",
    ("A", "í™©ì†Œìë¦¬"): "ëˆê¸°ì™€ ì±…ì„ê°ì´ ê°•í•´ ê¾¸ì¤€íˆ ì„±ê³¼ë¥¼ ë‚´ëŠ” íƒ€ì…ì´ì—ìš”.",
    ("A", "ìŒë‘¥ì´ìë¦¬"): "ë¶„ì„ì ì´ë©´ì„œë„ ë‹¤ì¬ë‹¤ëŠ¥í•´, ê³µë¶€ë‚˜ ì—°êµ¬ì— ê°•ì ì´ ìˆì–´ìš”.",
    ("A", "ê²Œìë¦¬"): "ì„¬ì„¸í•˜ê³  ë°°ë ¤ì‹¬ì´ ê¹Šì–´ ì‹ ë¢°ë°›ëŠ” ì¹œêµ¬ê°€ ë¼ìš”.",
    ("A", "ì‚¬ììë¦¬"): "ì¡°ì§ì  ì‚¬ê³ ì™€ ìì‹ ê°ì„ ê²¸ë¹„í•´ ì§€ë„ìë¡œ ì„±ì¥í•  ìˆ˜ ìˆì–´ìš”.",
    ("A", "ì²˜ë…€ìë¦¬"): "ì„¸ë¶€ì‚¬í•­ì— ê°•í•˜ê³  ê¼¼ê¼¼í•´ ì™„ë²½ì£¼ì˜ì  ì„±í–¥ì„ ë³´ì—¬ìš”.",
    ("A", "ì²œì¹­ìë¦¬"): "ê· í˜• ì¡íŒ ì‚¬ê³ ì™€ ì±…ì„ê°ìœ¼ë¡œ ì¤‘ì¬ìì˜ ì—­í• ì„ ì˜í•´ìš”.",
    ("A", "ì „ê°ˆìë¦¬"): "ê¹Šì€ ì§‘ì¤‘ë ¥ê³¼ ì„±ì‹¤í•¨ìœ¼ë¡œ ì–´ë ¤ìš´ ë¬¸ì œë„ í•´ê²°í•´ìš”.",
    ("A", "ì‚¬ìˆ˜ìë¦¬"): "ë„ì „ì •ì‹ ì— ì‹ ì¤‘í•¨ì´ ë”í•´ì ¸ ì•ˆì •ì ì¸ ëª¨í—˜ì„ ì¦ê²¨ìš”.",
    ("A", "ì—¼ì†Œìë¦¬"): "ì±…ì„ê°ê³¼ ëª©í‘œ ì§€í–¥ì„±ì´ ê°•í•´ ê¾¸ì¤€íˆ ì„±ê³µì„ ì¶”êµ¬í•´ìš”.",
    ("A", "ë¬¼ë³‘ìë¦¬"): "ì²´ê³„ì ì¸ ì‚¬ê³ ë¡œ ìƒˆë¡œìš´ ì•„ì´ë””ì–´ë¥¼ í˜„ì‹¤í™”í•  ìˆ˜ ìˆì–´ìš”.",
    ("A", "ë¬¼ê³ ê¸°ìë¦¬"): "ì„¬ì„¸í•œ ê°ì„±ê³¼ ì„±ì‹¤í•¨ì´ ì¡°í™”ë¥¼ ì´ë£¨ì–´ ë”°ëœ»í•œ ë¦¬ë”ê°€ ë¼ìš”.",
    # Bí˜•
    ("B", "ì–‘ìë¦¬"): "í™œë°œí•˜ê³  ì°½ì˜ì ì¸ ì¶”ì§„ë ¥ìœ¼ë¡œ í™œê¸°ì°¬ ì‚¶ì„ ì¦ê²¨ìš”.",
    ("B", "í™©ì†Œìë¦¬"): "ììœ ë¡œìš´ ì„±í–¥ê³¼ ëˆê¸°ë¡œ ë…íŠ¹í•œ ì„±ì·¨ë¥¼ ë§Œë“¤ì–´ê°€ìš”.",
    ("B", "ìŒë‘¥ì´ìë¦¬"): "í˜¸ê¸°ì‹¬ê³¼ ì¬ëŠ¥ì´ í’ë¶€í•´ ë‹¤ì–‘í•œ ê²½í—˜ì„ ì¦ê²¨ìš”.",
    ("B", "ê²Œìë¦¬"): "ê°ì„±ì ì´ê³  ì‚¬ë ¤ ê¹Šì–´ ì£¼ë³€ì— ê¸ì •ì  ì˜í–¥ì„ ì¤˜ìš”.",
    ("B", "ì‚¬ììë¦¬"): "ìì‹ ê°ê³¼ ì—´ì •ìœ¼ë¡œ ì¤‘ì‹¬ì¸ë¬¼ì´ ë˜ê¸° ì¢‹ì•„ìš”.",
    ("B", "ì²˜ë…€ìë¦¬"): "ì°½ì˜ì ì´ë©´ì„œë„ ê¼¼ê¼¼í•¨ì„ ê°–ì¶˜ ê· í˜•í˜•ì´ì—ìš”.",
    ("B", "ì²œì¹­ìë¦¬"): "ì‚¬íšŒì  ë§¤ë ¥ê³¼ ì§€í˜œë¡œ ì‚¬ëŒë“¤ê³¼ ì˜ ì–´ìš¸ë ¤ìš”.",
    ("B", "ì „ê°ˆìë¦¬"): "ì§‘ì¤‘ë ¥ê³¼ ì§ê´€ë ¥ìœ¼ë¡œ ê¹Šì´ ìˆëŠ” ì„±ì·¨ë¥¼ í•´ìš”.",
    ("B", "ì‚¬ìˆ˜ìë¦¬"): "ëª¨í—˜ì‹¬ê³¼ ììœ ë¡œìš´ ì‚¬ê³ ë¡œ ì¦ê²ê²Œ ì‚´ì•„ê°€ìš”.",
    ("B", "ì—¼ì†Œìë¦¬"): "ë…ì°½ì„±ê³¼ ì„±ì‹¤í•¨ì´ ì¡°í™”ë¥¼ ì´ë£¨ì–´ ê¾¸ì¤€í•œ ì„±ì·¨ê°€ ê°€ëŠ¥í•´ìš”.",
    ("B", "ë¬¼ë³‘ìë¦¬"): "í˜ì‹ ì ì´ê³  ì§„ë³´ì ì¸ ì•„ì´ë””ì–´ë¡œ ì•ì„œë‚˜ê°€ìš”.",
    ("B", "ë¬¼ê³ ê¸°ìë¦¬"): "ê°ìˆ˜ì„±ê³¼ ê°œì„±ì´ ì¡°í™”ë¥¼ ì´ë£¨ì–´ ì‚¬ëŒë“¤ì—ê²Œ ë§¤ë ¥ì ì´ì—ìš”.",
    # Oí˜•
    ("O", "ì–‘ìë¦¬"): "í™œë°œí•¨ê³¼ ë¦¬ë”ì‹­ìœ¼ë¡œ ì£¼ëª©ë°›ëŠ” ì„±ê²©ì´ì—ìš”.",
    ("O", "í™©ì†Œìë¦¬"): "ì•ˆì •ê°ê³¼ í™œë ¥ì´ ì¡°í™”ë¥¼ ì´ë£¨ì–´ ì‹ ë¢°ë¥¼ ì¤˜ìš”.",
    ("O", "ìŒë‘¥ì´ìë¦¬"): "ë‹¤ì¬ë‹¤ëŠ¥í•˜ê³  ì‚¬êµì„±ì´ ë›°ì–´ë‚˜ìš”.",
    ("O", "ê²Œìë¦¬"): "ë”°ëœ»í•¨ê³¼ ì—ë„ˆì§€ë¡œ ì£¼ë³€ì„ í–‰ë³µí•˜ê²Œ ë§Œë“¤ì–´ìš”.",
    ("O", "ì‚¬ììë¦¬"): "ê°•ë ¥í•œ ì¹´ë¦¬ìŠ¤ë§ˆì™€ ì¶”ì§„ë ¥ìœ¼ë¡œ ë¦¬ë” ì—­í• ì„ í•´ìš”.",
    ("O", "ì²˜ë…€ìë¦¬"): "ì²´ê³„ì ì´ë©´ì„œë„ í™œë°œí•œ ì„±í–¥ìœ¼ë¡œ ì„±ì·¨ ê°€ëŠ¥ì„±ì´ ë†’ì•„ìš”.",
    ("O", "ì²œì¹­ìë¦¬"): "ê· í˜•ê°ê³¼ í™œë°œí•¨ìœ¼ë¡œ ì‚¬ëŒë“¤ê³¼ ì˜ ì–´ìš¸ë ¤ìš”.",
    ("O", "ì „ê°ˆìë¦¬"): "ê°•ë ¬í•œ ì—ë„ˆì§€ì™€ ì§‘ì¤‘ë ¥ìœ¼ë¡œ ëª©í‘œë¥¼ ë‹¬ì„±í•´ìš”.",
    ("O", "ì‚¬ìˆ˜ìë¦¬"): "ììœ ë¡œì›€ê³¼ ìì‹ ê°ìœ¼ë¡œ ì¦ê²ê²Œ ì‚´ì•„ê°€ìš”.",
    ("O", "ì—¼ì†Œìë¦¬"): "ì±…ì„ê°ê³¼ ì¶”ì§„ë ¥ìœ¼ë¡œ ê¾¸ì¤€íˆ ì„±ì¥í•´ìš”.",
    ("O", "ë¬¼ë³‘ìë¦¬"): "ë…ì°½ì„±ê³¼ ë¦¬ë”ì‹­ìœ¼ë¡œ ì‚¬ëŒë“¤ì—ê²Œ ì˜ê°ì„ ì¤˜ìš”.",
    ("O", "ë¬¼ê³ ê¸°ìë¦¬"): "ê°ìˆ˜ì„±ê³¼ ì—ë„ˆì§€ê°€ ê²°í•©ë˜ì–´ ë§¤ë ¥ì ì´ì—ìš”.",
    # ABí˜•
    ("AB", "ì–‘ìë¦¬"): "ì´ì„±ì  íŒë‹¨ê³¼ ì—´ì •ì  ì¶”ì§„ë ¥ì´ ì¡°í™”ë¥¼ ì´ë£¨ì–´ìš”.",
    ("AB", "í™©ì†Œìë¦¬"): "ê°ì„±ê³¼ ëˆê¸°ê°€ ê²°í•©ëœ ë…ì°½ì ì¸ ì„±í–¥ì´ì—ìš”.",
    ("AB", "ìŒë‘¥ì´ìë¦¬"): "í˜¸ê¸°ì‹¬ê³¼ ì§€í˜œë¡œ ë‹¤ì–‘í•œ ê²½í—˜ì„ ì¦ê²¨ìš”.",
    ("AB", "ê²Œìë¦¬"): "ê°ì„±ì ì´ê³  ë°°ë ¤ì‹¬ì´ í’ë¶€í•´ ì£¼ë³€ì— ê¸ì •ì ì´ì—ìš”.",
    ("AB", "ì‚¬ììë¦¬"): "ìì‹ ê°ê³¼ ë…ì°½ì„±ì´ ë‹ë³´ì´ëŠ” ë¦¬ë”í˜•ì´ì—ìš”.",
    ("AB", "ì²˜ë…€ìë¦¬"): "ì„¬ì„¸í•˜ê³  ë¶„ì„ì ì¸ ì‚¬ê³ ë¡œ ì„±ì·¨ê°€ ë†’ì•„ìš”.",
    ("AB", "ì²œì¹­ìë¦¬"): "ê· í˜•ê³¼ ì°½ì˜ì„±ì´ ì¡°í™”ë¥¼ ì´ë£¨ì–´ ë§¤ë ¥ì ì´ì—ìš”.",
    ("AB", "ì „ê°ˆìë¦¬"): "ì§ê´€ê³¼ ê°œì„±ì´ ê°•í•´ ê¹Šì€ ì„±ì·¨ë¥¼ í•´ìš”.",
    ("AB", "ì‚¬ìˆ˜ìë¦¬"): "ììœ ë¡­ê³  ë¶„ì„ì ì¸ ì‚¬ê³ ë¡œ ì¦ê²ê²Œ ì‚´ì•„ê°€ìš”.",
    ("AB", "ì—¼ì†Œìë¦¬"): "ì±…ì„ê°ê³¼ ë…ì°½ì„±ìœ¼ë¡œ ê¾¸ì¤€íˆ ì„±ì¥ ê°€ëŠ¥í•´ìš”.",
    ("AB", "ë¬¼ë³‘ìë¦¬"): "í˜ì‹ ì ì´ê³  ì§„ë³´ì ì¸ ì„±í–¥ìœ¼ë¡œ ì˜ê°ì„ ì¤˜ìš”.",
    ("AB", "ë¬¼ê³ ê¸°ìë¦¬"): "ê°ì„±ê³¼ ì°½ì˜ì„±ì´ ì–´ìš°ëŸ¬ì ¸ ë§¤ë ¥ì ì¸ ì„±ê²©ì´ì—ìš”."
}

# -------------------- 48ê°€ì§€ ì˜ ë§ëŠ” ì¡°í•© --------------------
good_combos = {
    # Aí˜•
    ("A", "ì–‘ìë¦¬"): [("O", "ì‚¬ììë¦¬"), ("AB", "ë¬¼ë³‘ìë¦¬")],
    ("A", "í™©ì†Œìë¦¬"): [("B", "ìŒë‘¥ì´ìë¦¬"), ("O", "ì—¼ì†Œìë¦¬")],
    ("A", "ìŒë‘¥ì´ìë¦¬"): [("B", "ì²œì¹­ìë¦¬"), ("AB", "ë¬¼ë³‘ìë¦¬")],
    ("A", "ê²Œìë¦¬"): [("O", "ì „ê°ˆìë¦¬"), ("AB", "ë¬¼ê³ ê¸°ìë¦¬")],
    ("A", "ì‚¬ììë¦¬"): [("O", "ì–‘ìë¦¬"), ("B", "ì‚¬ìˆ˜ìë¦¬")],
    ("A", "ì²˜ë…€ìë¦¬"): [("B", "í™©ì†Œìë¦¬"), ("AB", "ì²œì¹­ìë¦¬")],
    ("A", "ì²œì¹­ìë¦¬"): [("O", "ìŒë‘¥ì´ìë¦¬"), ("AB", "ì‚¬ìˆ˜ìë¦¬")],
    ("A", "ì „ê°ˆìë¦¬"): [("O", "ê²Œìë¦¬"), ("B", "ë¬¼ê³ ê¸°ìë¦¬")],
    ("A", "ì‚¬ìˆ˜ìë¦¬"): [("O", "ì‚¬ììë¦¬"), ("AB", "ì–‘ìë¦¬")],
    ("A", "ì—¼ì†Œìë¦¬"): [("B", "í™©ì†Œìë¦¬"), ("O", "ì²˜ë…€ìë¦¬")],
    ("A", "ë¬¼ë³‘ìë¦¬"): [("AB", "ìŒë‘¥ì´ìë¦¬"), ("O", "ì²œì¹­ìë¦¬")],
    ("A", "ë¬¼ê³ ê¸°ìë¦¬"): [("B", "ê²Œìë¦¬"), ("AB", "ì „ê°ˆìë¦¬")],
    # Bí˜•
    ("B", "ì–‘ìë¦¬"): [("O", "ì‚¬ìˆ˜ìë¦¬"), ("AB", "ë¬¼ë³‘ìë¦¬")],
    ("B", "í™©ì†Œìë¦¬"): [("A", "ì²˜ë…€ìë¦¬"), ("O", "ì—¼ì†Œìë¦¬")],
    ("B", "ìŒë‘¥ì´ìë¦¬"): [("AB", "ì²œì¹­ìë¦¬"), ("O", "ë¬¼ë³‘ìë¦¬")],
    ("B", "ê²Œìë¦¬"): [("A", "ì „ê°ˆìë¦¬"), ("AB", "ë¬¼ê³ ê¸°ìë¦¬")],
    ("B", "ì‚¬ììë¦¬"): [("O", "ì–‘ìë¦¬"), ("AB", "ì‚¬ìˆ˜ìë¦¬")],
    ("B", "ì²˜ë…€ìë¦¬"): [("A", "í™©ì†Œìë¦¬"), ("O", "ì²œì¹­ìë¦¬")],
    ("B", "ì²œì¹­ìë¦¬"): [("AB", "ìŒë‘¥ì´ìë¦¬"), ("O", "ë¬¼ë³‘ìë¦¬")],
    ("B", "ì „ê°ˆìë¦¬"): [("A", "ê²Œìë¦¬"), ("O", "ë¬¼ê³ ê¸°ìë¦¬")],
    ("B", "ì‚¬ìˆ˜ìë¦¬"): [("O", "ì‚¬ììë¦¬"), ("AB", "ì–‘ìë¦¬")],
    ("B", "ì—¼ì†Œìë¦¬"): [("A", "í™©ì†Œìë¦¬"), ("O", "ì²˜ë…€ìë¦¬")],
    ("B", "ë¬¼ë³‘ìë¦¬"): [("AB", "ìŒë‘¥ì´ìë¦¬"), ("O", "ì²œì¹­ìë¦¬")],
    ("B", "ë¬¼ê³ ê¸°ìë¦¬"): [("A", "ê²Œìë¦¬"), ("AB", "ì „ê°ˆìë¦¬")],
    # Oí˜•
    ("O", "ì–‘ìë¦¬"): [("A", "ì‚¬ììë¦¬"), ("B", "ë¬¼ë³‘ìë¦¬")],
    ("O", "í™©ì†Œìë¦¬"): [("AB", "ìŒë‘¥ì´ìë¦¬"), ("A", "ì—¼ì†Œìë¦¬")],
    ("O", "ìŒë‘¥ì´ìë¦¬"): [("B", "ì²œì¹­ìë¦¬"), ("AB", "ë¬¼ë³‘ìë¦¬")],
    ("O", "ê²Œìë¦¬"): [("A", "ì „ê°ˆìë¦¬"), ("B", "ë¬¼ê³ ê¸°ìë¦¬")],
    ("O", "ì‚¬ììë¦¬"): [("A", "ì–‘ìë¦¬"), ("AB", "ì‚¬ìˆ˜ìë¦¬")],
    ("O", "ì²˜ë…€ìë¦¬"): [("B", "í™©ì†Œìë¦¬"), ("AB", "ì²œì¹­ìë¦¬")],
    ("O", "ì²œì¹­ìë¦¬"): [("A", "ìŒë‘¥ì´ìë¦¬"), ("B", "ì‚¬ìˆ˜ìë¦¬")],
    ("O", "ì „ê°ˆìë¦¬"): [("AB", "ê²Œìë¦¬"), ("A", "ë¬¼ê³ ê¸°ìë¦¬")],
    ("O", "ì‚¬ìˆ˜ìë¦¬"): [("A", "ì‚¬ììë¦¬"), ("B", "ì–‘ìë¦¬")],
    ("O", "ì—¼ì†Œìë¦¬"): [("AB", "í™©ì†Œìë¦¬"), ("B", "ì²˜ë…€ìë¦¬")],
    ("O", "ë¬¼ë³‘ìë¦¬"): [("A", "ìŒë‘¥ì´ìë¦¬"), ("AB", "ì²œì¹­ìë¦¬")],
    ("O", "ë¬¼ê³ ê¸°ìë¦¬"): [("B", "ê²Œìë¦¬"), ("A", "ì „ê°ˆìë¦¬")],
    # ABí˜•
    ("AB", "ì–‘ìë¦¬"): [("O", "ì‚¬ìˆ˜ìë¦¬"), ("B", "ë¬¼ë³‘ìë¦¬")],
    ("AB", "í™©ì†Œìë¦¬"): [("A", "ì²˜ë…€ìë¦¬"), ("O", "ì—¼ì†Œìë¦¬")],
    ("AB", "ìŒë‘¥ì´ìë¦¬"): [("B", "ì²œì¹­ìë¦¬"), ("O", "ë¬¼ë³‘ìë¦¬")],
    ("AB", "ê²Œìë¦¬"): [("A", "ì „ê°ˆìë¦¬"), ("B", "ë¬¼ê³ ê¸°ìë¦¬")],
    ("AB", "ì‚¬ììë¦¬"): [("O", "ì–‘ìë¦¬"), ("A", "ì‚¬ìˆ˜ìë¦¬")],
    ("AB", "ì²˜ë…€ìë¦¬"): [("B", "í™©ì†Œìë¦¬"), ("O", "ì²œì¹­ìë¦¬")],
    ("AB", "ì²œì¹­ìë¦¬"): [("A", "ìŒë‘¥ì´ìë¦¬"), ("B", "ì‚¬ìˆ˜ìë¦¬")],
    ("AB", "ì „ê°ˆìë¦¬"): [("O", "ê²Œìë¦¬"), ("A", "ë¬¼ê³ ê¸°ìë¦¬")],
    ("AB", "ì‚¬ìˆ˜ìë¦¬"): [("B", "ì‚¬ììë¦¬"), ("O", "ì–‘ìë¦¬")],
    ("AB", "ì—¼ì†Œìë¦¬"): [("A", "í™©ì†Œìë¦¬"), ("B", "ì²˜ë…€ìë¦¬")],
    ("AB", "ë¬¼ë³‘ìë¦¬"): [("O", "ìŒë‘¥ì´ìë¦¬"), ("A", "ì²œì¹­ìë¦¬")],
    ("AB", "ë¬¼ê³ ê¸°ìë¦¬"): [("B", "ê²Œìë¦¬"), ("O", "ì „ê°ˆìë¦¬")]
}

# -------------------- ê²°ê³¼ ì¶œë ¥ --------------------
if st.button("ê²°ê³¼ ë³´ê¸°"):
    month, day = birth_date.month, birth_date.day
    zodiac_sign = get_zodiac(month, day)

    st.subheader("âœ¨ ê²°ê³¼ âœ¨")
    st.write(f"ğŸ©¸ í˜ˆì•¡í˜•({blood_type}) íŠ¹ì§•: {blood_traits[blood_type]}")
    st.write(f"ğŸŒŒ ë³„ìë¦¬({zodiac_sign}) íŠ¹ì§•: {zodiac_traits[zodiac_sign]}")
    st.write(f"ğŸ”® ì¡°í•© í•´ì„: {combo_traits[(blood_type, zodiac_sign)]}")

    # -------------------- ì˜ ë§ëŠ” ì¡°í•© ì¶”ì²œ --------------------
    if (blood_type, zodiac_sign) in good_combos:
        st.subheader("ğŸ’– ì˜ ë§ëŠ” í˜ˆì•¡í˜• Ã— ë³„ìë¦¬ ì¡°í•© ì¶”ì²œ")
        matches = good_combos[(blood_type, zodiac_sign)]
        for match_blood, match_zodiac in matches:
            st.write(f"{match_blood}í˜• Ã— {match_zodiac}ìë¦¬")
    else:
        st.info("ì´ ì¡°í•©ì— ëŒ€í•œ ì¶”ì²œì€ ì¤€ë¹„ ì¤‘ì´ì—ìš” ğŸ˜Š")
        
