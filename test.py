import streamlit as st
import random
from datetime import date

# ìš´ì„¸ ë©”ì‹œì§€ì™€ ìŠ¤íƒ€ì¼ ì¶”ì²œ ë°ì´í„° (ë” í’ë¶€í•˜ê²Œ í™•ì¥)
fortune_data = {
    "í–‰ìš´ ê°€ë“ ğŸ€": {
        "style": "ë°ì€ ìƒ‰ìƒì˜ ì˜· (ì˜ë¡œìš°, í™”ì´íŠ¸)",
        "tip": "í™”ë ¤í•œ ì•¡ì„¸ì„œë¦¬ë¡œ í¬ì¸íŠ¸!",
        "love": "ì˜¤ëŠ˜ì€ ì‚¬ë‘ì´ ì°¾ì•„ì˜¤ëŠ” ë‚  ğŸ’•",
        "money": "ì‘ì€ íˆ¬ìì—ì„œ í° ì„±ê³¼! ğŸ’°",
        "health": "ì»¨ë””ì…˜ì´ ìµœìƒì´ì—ìš”!",
        "color": "ì˜ë¡œìš°",
        "item": "ìŠ¤ì¹´í”„"
    },
    "ì¡°ì‹¬ì¡°ì‹¬ âš¡": {
        "style": "í¸ì•ˆí•œ ìºì£¼ì–¼ (ì§„, í›„ë“œí‹°)",
        "tip": "ì˜¤ëŠ˜ì€ ë¬´ë‚œí•˜ê²Œ ê°€ëŠ” ê²Œ ì¢‹ì•„ìš”.",
        "love": "ì—°ì¸ê³¼ì˜ ë‹¤íˆ¼ ì£¼ì˜ ğŸ˜¬",
        "money": "ì§€ì¶œì„ ì¤„ì´ëŠ” ê²Œ ì¢‹ì•„ìš”.",
        "health": "ë¬´ë¦¬í•˜ë©´ í”¼ë¡œê°€ ìŒ“ì¼ ìˆ˜ ìˆì–´ìš”.",
        "color": "ë¸”ë™",
        "item": "ìš´ë™í™”"
    },
    "ì—ë„ˆì§€ ì—… ğŸ”¥": {
        "style": "ë ˆë“œ, ì˜¤ë Œì§€ ê³„ì—´",
        "tip": "ê°•ë ¬í•œ ìƒ‰ìƒìœ¼ë¡œ ìì‹ ê° UP!",
        "love": "ë§¤ë ¥ì§€ìˆ˜ê°€ ìµœê³ ì¡°! â¤ï¸",
        "money": "ë„ì „ì ì¸ íˆ¬ìì— í–‰ìš´ì´!",
        "health": "í™œë ¥ì´ ë„˜ì¹˜ëŠ” í•˜ë£¨!",
        "color": "ë ˆë“œ",
        "item": "ì‹œê³„"
    },
    "íë§ë°ì´ ğŸŒ¿": {
        "style": "íŒŒìŠ¤í…”í†¤, í¸ì•ˆí•œ ì›í”¼ìŠ¤/ì…”ì¸ ",
        "tip": "ìì—°ìŠ¤ëŸ¬ìš´ ìŠ¤íƒ€ì¼ì´ ì˜ ì–´ìš¸ë ¤ìš”.",
        "love": "í˜¼ìë§Œì˜ ì‹œê°„ì´ í•„ìš”í•œ ë‚  ğŸ’­",
        "money": "í‰ì˜¨í•œ ì†Œë¹„, ë¶ˆí•„ìš”í•œ ì§€ì¶œ X",
        "health": "íœ´ì‹ì´ í•„ìš”í•´ìš”.",
        "color": "ê·¸ë¦°",
        "item": "ì±…"
    },
    "ë¡œë§¨í‹± ğŸ’•": {
        "style": "í•‘í¬í†¤, ë¡œë§¨í‹±í•œ ë””í…Œì¼",
        "tip": "ë°ì´íŠ¸ ë£©ìœ¼ë¡œ ì™„ë²½!",
        "love": "ìš´ëª… ê°™ì€ ì¸ì—°ì„ ë§Œë‚  ìˆ˜ ìˆì–´ìš” âœ¨",
        "money": "ì„ ë¬¼ì— ì§€ì¶œì´ ìƒê¸¸ ìˆ˜ ìˆì–´ìš”.",
        "health": "ë§ˆìŒì´ í¸ì•ˆí•´ì§€ëŠ” í•˜ë£¨.",
        "color": "í•‘í¬",
        "item": "í–¥ìˆ˜"
    }
}

st.title("âœ¨ ì˜¤ëŠ˜ì˜ ìš´ì„¸ & ìŠ¤íƒ€ì¼ ì¶”ì²œ âœ¨")

# ì‚¬ìš©ì ì…ë ¥
name = st.text_input("ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”")

gender = st.selectbox("ì„±ë³„ì„ ì„ íƒí•˜ì„¸ìš”", ["ë‚¨ì„±", "ì—¬ì„±", "ê¸°íƒ€"])

birthday = st.date_input(
    "ìƒì¼ì„ ì„ íƒí•˜ì„¸ìš”",
    min_value=date(2000, 1, 1),
    max_value=date(2025, 12, 31)
)

mood = st.radio("ì˜¤ëŠ˜ì˜ ê¸°ë¶„ì€ ì–´ë–¤ê°€ìš”?", ["ğŸ˜Š ì¢‹ìŒ", "ğŸ˜ ë³´í†µ", "ğŸ˜¢ ìš°ìš¸"])

if st.button("ì˜¤ëŠ˜ì˜ ìš´ì„¸ ë³´ê¸°"):
    today = date.today()
    # ê°„ë‹¨í•œ ë‚œìˆ˜ ê¸°ë°˜ ìš´ì„¸ ì„ íƒ
    seed = hash(name + str(birthday) + mood) % len(fortune_data)
    fortune = list(fortune_data.keys())[seed]
    
    data = fortune_data[fortune]
    
    st.subheader(f"ì˜¤ëŠ˜ì˜ ìš´ì„¸: {fortune}")
    st.write(f"ğŸ‘— ì¶”ì²œ ìŠ¤íƒ€ì¼: {data['style']}")
    st.write(f"ğŸ’¡ ìŠ¤íƒ€ì¼ íŒ: {data['tip']}")
    st.write(f"â¤ï¸ ì‚¬ë‘ìš´: {data['love']}")
    st.write(f"ğŸ’° ê¸ˆì „ìš´: {data['money']}")
    st.write(f"ğŸ’ª ê±´ê°•ìš´: {data['health']}")
    st.write(f"ğŸ¨ í–‰ìš´ ì»¬ëŸ¬: {data['color']}")
    st.write(f"ğŸ”® í–‰ìš´ ì•„ì´í…œ: {data['item']}")
    st.success(f"{name}ë‹˜({gender}), ì˜¤ëŠ˜ë„ ë©‹ì§„ í•˜ë£¨ ë³´ë‚´ì„¸ìš”! ğŸŒŸ")
