import streamlit as st
from datetime import datetime
import random

# 12ë³„ìžë¦¬ ë‚ ì§œ êµ¬ê°„
zodiac_dates = {
    "ì–‘ìžë¦¬": ((3, 21), (4, 19)),
    "í™©ì†Œìžë¦¬": ((4, 20), (5, 20)),
    "ìŒë‘¥ì´ìžë¦¬": ((5, 21), (6, 20)),
    "ê²Œìžë¦¬": ((6, 21), (7, 22)),
    "ì‚¬ìžìžë¦¬": ((7, 23), (8, 22)),
    "ì²˜ë…€ìžë¦¬": ((8, 23), (9, 22)),
    "ì²œì¹­ìžë¦¬": ((9, 23), (10, 22)),
    "ì „ê°ˆìžë¦¬": ((10, 23), (11, 21)),
    "ì‚¬ìˆ˜ìžë¦¬": ((11, 22), (12, 21)),
    "ì—¼ì†Œìžë¦¬": ((12, 22), (1, 19)),
    "ë¬¼ë³‘ìžë¦¬": ((1, 20), (2, 18)),
    "ë¬¼ê³ ê¸°ìžë¦¬": ((2, 19), (3, 20)),
}

# í˜ˆì•¡í˜• + ë³„ìžë¦¬ ìŠ¤íƒ€ì¼ ì¶”ì²œ
style_recommendations = {
    "A": {"ì–‘ìžë¦¬": "í™œë™ì ì´ë©´ì„œ ìŠ¤í¬í‹°í•œ ìŠ¤íƒ€ì¼ ì¶”ì²œ!", "í™©ì†Œìžë¦¬": "íŽ¸ì•ˆí•œ ìºì£¼ì–¼ë¡œ ì•ˆì •ê° ìžˆëŠ” ëŠë‚Œ!", "ìŒë‘¥ì´ìžë¦¬": "íŠ¸ë Œë””í•œ ì•„ì´í…œìœ¼ë¡œ ë³€í™”ë¥¼ ì¤˜ë³´ì„¸ìš”.", "ê²Œìžë¦¬": "ë”°ëœ»í•œ ìƒ‰ê°ì˜ í¬ê·¼í•œ ìŠ¤íƒ€ì¼!", "ì‚¬ìžìžë¦¬": "í™”ë ¤í•œ ì•¡ì„¸ì„œë¦¬ë¡œ í¬ì¸íŠ¸!", "ì²˜ë…€ìžë¦¬": "ê¹”ë”í•˜ê³  ë¯¸ë‹ˆë©€í•œ ìŠ¤íƒ€ì¼ ì¶”ì²œ.", "ì²œì¹­ìžë¦¬": "ë°¸ëŸ°ìŠ¤ ì¢‹ì€ ì„¸ë ¨ëœ ìŠ¤íƒ€ì¼!", "ì „ê°ˆìžë¦¬": "ê°•ë ¬í•œ ì»¬ëŸ¬ë¡œ ê°œì„± í‘œí˜„!", "ì‚¬ìˆ˜ìžë¦¬": "ìžìœ ë¡œìš´ ë¶„ìœ„ê¸°ì˜ ìºì£¼ì–¼ ì¶”ì²œ.", "ì—¼ì†Œìžë¦¬": "í´ëž˜ì‹í•˜ê³  ë‹¨ì •í•œ ìŠ¤íƒ€ì¼!", "ë¬¼ë³‘ìžë¦¬": "ë…íŠ¹í•˜ê³  ì‹¤í—˜ì ì¸ íŒ¨ì…˜ ì‹œë„!", "ë¬¼ê³ ê¸°ìžë¦¬": "ë¡œë§¨í‹±í•˜ê³  ë¶€ë“œëŸ¬ìš´ ìŠ¤íƒ€ì¼."},
    "B": {"ì–‘ìžë¦¬": "ìŠ¤í¬í‹°í•˜ë©´ì„œ ë°ì€ ì»¬ëŸ¬ ì¶”ì²œ!", "í™©ì†Œìžë¦¬": "ìžì—°ìŠ¤ëŸ¬ìš´ í†¤ìœ¼ë¡œ íŽ¸ì•ˆí•˜ê²Œ.", "ìŒë‘¥ì´ìžë¦¬": "í†¡í†¡ íŠ€ëŠ” í¬ì¸íŠ¸ ì•„ì´í…œ í•„ìˆ˜!", "ê²Œìžë¦¬": "í¬ê·¼í•˜ê³  ë”°ëœ»í•œ ëŠë‚Œ ì¶”ì²œ.", "ì‚¬ìžìžë¦¬": "ëˆˆì— ë„ëŠ” í™”ë ¤í•œ ìŠ¤íƒ€ì¼ OK!", "ì²˜ë…€ìžë¦¬": "ê¹”ë”í•˜ê²Œ ì •ëˆëœ ìŠ¤íƒ€ì¼ ì¶”ì²œ.", "ì²œì¹­ìžë¦¬": "ì¡°í™”ë¡œìš´ íŒ¨ì…˜ìœ¼ë¡œ ê· í˜• ìœ ì§€!", "ì „ê°ˆìžë¦¬": "ë¯¸ìŠ¤í„°ë¦¬í•œ ëŠë‚Œì˜ ì»¬ëŸ¬ ì¶”ì²œ.", "ì‚¬ìˆ˜ìžë¦¬": "ìžìœ ë¡œìš´ ë¬´ë“œì˜ ìºì£¼ì–¼ ìŠ¤íƒ€ì¼.", "ì—¼ì†Œìžë¦¬": "ë‹¨ì •í•˜ê³  í´ëž˜ì‹í•œ ì•„ì´í…œ ì¶”ì²œ.", "ë¬¼ë³‘ìžë¦¬": "ë…íŠ¹í•¨ì„ ì‚´ë¦° ì‹¤í—˜ì  íŒ¨ì…˜.", "ë¬¼ê³ ê¸°ìžë¦¬": "ë¶€ë“œëŸ½ê³  ëª½í™˜ì ì¸ ìŠ¤íƒ€ì¼ ì¶”ì²œ."},
    "AB": {"ì–‘ìžë¦¬": "í™œê¸°ì°¬ ëŠë‚Œê³¼ ê°œì„± ê°•ì¡°!", "í™©ì†Œìžë¦¬": "íŽ¸ì•ˆí•˜ê³  ìžì—°ìŠ¤ëŸ¬ìš´ ìŠ¤íƒ€ì¼ ì¶”ì²œ.", "ìŒë‘¥ì´ìžë¦¬": "ë‹¤ì–‘í•œ ìŠ¤íƒ€ì¼ ë¯¹ìŠ¤ ì‹œë„ ê°€ëŠ¥!", "ê²Œìžë¦¬": "ë”°ëœ»í•˜ê³  í¬ê·¼í•œ ë¬´ë“œ ê°•ì¡°.", "ì‚¬ìžìžë¦¬": "ê°•ë ¬í•œ í¬ì¸íŠ¸ ì•„ì´í…œ í•„ìˆ˜!", "ì²˜ë…€ìžë¦¬": "ê¹”ë”í•˜ê²Œ ì •ëˆëœ ì„¸ë ¨ëœ ëŠë‚Œ.", "ì²œì¹­ìžë¦¬": "ë°¸ëŸ°ìŠ¤ë¥¼ ë§žì¶˜ ì‹¬í”Œí•œ ìŠ¤íƒ€ì¼.", "ì „ê°ˆìžë¦¬": "ë…íŠ¹í•œ í¬ì¸íŠ¸ë¡œ ê°œì„± í‘œí˜„.", "ì‚¬ìˆ˜ìžë¦¬": "ìžìœ ë¡­ê³  í™œë™ì ì¸ ìŠ¤íƒ€ì¼ ì¶”ì²œ.", "ì—¼ì†Œìžë¦¬": "í´ëž˜ì‹í•˜ê³  ì•ˆì •ê° ìžˆëŠ” ëŠë‚Œ.", "ë¬¼ë³‘ìžë¦¬": "ì‹¤í—˜ì ì¸ ë””ìžì¸ ë„ì „ ì¶”ì²œ.", "ë¬¼ê³ ê¸°ìžë¦¬": "ë¶€ë“œëŸ½ê³  ë¡œë§¨í‹±í•œ ìŠ¤íƒ€ì¼ ê°•ì¡°."},
    "O": {"ì–‘ìžë¦¬": "ì—ë„ˆì§€ ë„˜ì¹˜ëŠ” ìŠ¤í¬í‹° ìºì£¼ì–¼ ì¶”ì²œ!", "í™©ì†Œìžë¦¬": "ìžì—°ìŠ¤ëŸ¬ìš´ ì»¬ëŸ¬ì™€ íŽ¸ì•ˆí•¨!", "ìŒë‘¥ì´ìžë¦¬": "í¬ì¸íŠ¸ ì•„ì´í…œìœ¼ë¡œ ë³€í™”ë¥¼!", "ê²Œìžë¦¬": "ë”°ëœ»í•œ ìƒ‰ê°ìœ¼ë¡œ í¬ê·¼í•¨ ì—°ì¶œ.", "ì‚¬ìžìžë¦¬": "í™”ë ¤í•œ ìŠ¤íƒ€ì¼ë¡œ ì‹œì„  ì§‘ì¤‘!", "ì²˜ë…€ìžë¦¬": "ê¹”ë”í•˜ê³  ë‹¨ì •í•œ ëŠë‚Œ ìœ ì§€.", "ì²œì¹­ìžë¦¬": "ì„¸ë ¨ëœ ë°¸ëŸ°ìŠ¤ ìŠ¤íƒ€ì¼ ì¶”ì²œ.", "ì „ê°ˆìžë¦¬": "ê°•ë ¬í•œ ì»¬ëŸ¬ë¡œ ê°œì„± í‘œí˜„!", "ì‚¬ìˆ˜ìžë¦¬": "í™œë™ì ì¸ ìºì£¼ì–¼ ìŠ¤íƒ€ì¼ ì¶”ì²œ.", "ì—¼ì†Œìžë¦¬": "í´ëž˜ì‹í•˜ê²Œ ì•ˆì •ê° ìžˆê²Œ.", "ë¬¼ë³‘ìžë¦¬": "ë…ì°½ì ì¸ ì•„ì´í…œìœ¼ë¡œ ê°œì„± í‘œí˜„.", "ë¬¼ê³ ê¸°ìžë¦¬": "ëª½í™˜ì ì´ê³  ë¡œë§¨í‹±í•œ ìŠ¤íƒ€ì¼ ì¶”ì²œ."},
}

# ê¸°ë³¸ íŒ¨ì…˜ ì´ë¯¸ì§€ URL ëª¨ìŒ (Unsplash)
fashion_images = [
    "https://images.unsplash.com/photo-1520975918311-6c2c1c4c9b89",
    "https://images.unsplash.com/photo-1503342217505-b0a15ec3261c",
    "https://images.unsplash.com/photo-1521335629791-ce4aec67dd53",
    "https://images.unsplash.com/photo-1542060748-10c28b62716c",
    "https://images.unsplash.com/photo-1539008835657-9e67d1fc8e2f",
    "https://images.unsplash.com/photo-1555685812-4b943f1cb0eb",
    "https://images.unsplash.com/photo-1512436991641-6745cdb1723f",
]

# ë³„ìžë¦¬ ê³„ì‚° í•¨ìˆ˜
def get_zodiac(month, day):
    for zodiac, ((start_month, start_day), (end_month, end_day)) in zodiac_dates.items():
        if (month == start_month and day >= start_day) or \
           (month == end_month and day <= end_day) or \
           (start_month < month < end_month) or \
           (start_month > end_month and (month > start_month or month < end_month)):
            return zodiac
    return None

# Streamlit UI
st.title("ì˜¤ëŠ˜ì˜ ì™¸ì¶œ ìŠ¤íƒ€ì¼ ì¶”ì²œ ðŸ’ƒðŸ•º")
st.write("í˜ˆì•¡í˜•ê³¼ ìƒì¼ì„ ìž…ë ¥í•˜ë©´ ì˜¤ëŠ˜ì˜ ì™¸ì¶œ ìŠ¤íƒ€ì¼ê³¼ íŒ¨ì…˜ ì´ë¯¸ì§€ë¥¼ ì¶”ì²œí•´ë“œë¦½ë‹ˆë‹¤!")

blood_type = st.selectbox("í˜ˆì•¡í˜•ì„ ì„ íƒí•˜ì„¸ìš”", ["A", "B", "AB", "O"])

# ìƒì¼ ìž…ë ¥ (2000 ~ 2025)
min_date = datetime(2000, 1, 1)
max_date = datetime(2025, 12, 31)
birthday = st.date_input("ìƒì¼ì„ ì„ íƒí•˜ì„¸ìš”", value=datetime.today(), min_value=min_date, max_value=max_date)

month = birthday.month
day = birthday.day
zodiac = get_zodiac(month, day)

if st.button("ìŠ¤íƒ€ì¼ ì¶”ì²œ ë°›ê¸°"):
    if zodiac:
        style_message = style_recommendations[blood_type][zodiac]
        st.success(f"ë‹¹ì‹ ì˜ ë³„ìžë¦¬ëŠ” **{zodiac}** ìž…ë‹ˆë‹¤! ðŸŽ¯")
        st.info(f"ì˜¤ëŠ˜ì˜ ì™¸ì¶œ ìŠ¤íƒ€ì¼ ì¶”ì²œ: {style_message}")

        # ëžœë¤ ì´ë¯¸ì§€ í‘œì‹œ
        image_url = random.choice(fashion_images)
        st.image(image_url, caption=f"{blood_type} {zodiac} ìŠ¤íƒ€ì¼", use_column_width=True)
    else:
        st.error("ë³„ìžë¦¬ë¥¼ ê³„ì‚°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë‚ ì§œë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.")
