import streamlit as st

# ì§ˆë¬¸ ë°ì´í„° (E/I, S/N, T/F, J/P ê°ê° 2ë¬¸í•­)
questions = [
    {"type": "EI", "q": "ì‚¬ëŒ ë§ì€ ëª¨ì„ì´ ìˆì„ ë•Œ ë‚˜ëŠ”?", "a": ("ì—ë„ˆì§€ê°€ ì¶©ì „ëœë‹¤ (E)", "ì—ë„ˆì§€ê°€ ì†Œëª¨ëœë‹¤ (I)")},
    {"type": "EI", "q": "íœ´ì¼ ê³„íšì€?", "a": ("ì¹œêµ¬ì™€ ì•½ì†ì„ ë§ì´ ì¡ëŠ”ë‹¤ (E)", "í˜¼ìë§Œì˜ ì‹œê°„ì„ ë³´ë‚¸ë‹¤ (I)")},
    {"type": "SN", "q": "ë¬¸ì œë¥¼ í•´ê²°í•  ë•Œ ë‚˜ëŠ”?", "a": ("ì‚¬ì‹¤ê³¼ ë°ì´í„° ìœ„ì£¼ë¡œ ìƒê°í•œë‹¤ (S)", "ì§ê´€ê³¼ ê°€ëŠ¥ì„±ì„ ë³¸ë‹¤ (N)")},
    {"type": "SN", "q": "ëŒ€í™”ë¥¼ í•  ë•Œ ë‚˜ëŠ”?", "a": ("êµ¬ì²´ì ì¸ ì˜ˆì‹œë¥¼ ë§ì´ ë“ ë‹¤ (S)", "ì¶”ìƒì ì¸ ì•„ì´ë””ì–´ë¥¼ ì´ì•¼ê¸°í•œë‹¤ (N)")},
    {"type": "TF", "q": "ê²°ì •ì„ ë‚´ë¦´ ë•Œ ë‚˜ëŠ”?", "a": ("ë…¼ë¦¬ì™€ ì›ì¹™ì„ ë”°ë¥¸ë‹¤ (T)", "ì‚¬ëŒì˜ ê°ì •ì„ ê³ ë ¤í•œë‹¤ (F)")},
    {"type": "TF", "q": "ìƒëŒ€ë°©ê³¼ ê°ˆë“±ì´ ìƒê¸°ë©´?", "a": ("ë…¼ë¦¬ì ìœ¼ë¡œ ë¬¸ì œë¥¼ ë¶„ì„í•œë‹¤ (T)", "ê°ì •ì„ ì´í•´í•˜ê³  í’€ë ¤ê³  í•œë‹¤ (F)")},
    {"type": "JP", "q": "ì—¬í–‰ì„ ê°ˆ ë•Œ ë‚˜ëŠ”?", "a": ("ê³„íšì„ ë¯¸ë¦¬ ì„¸ìš´ë‹¤ (J)", "ì¦‰í¥ì ìœ¼ë¡œ ê°„ë‹¤ (P)")},
    {"type": "JP", "q": "ì¼ì •ì„ ê´€ë¦¬í•  ë•Œ ë‚˜ëŠ”?", "a": ("ì²´ê³„ì ìœ¼ë¡œ ê¸°ë¡í•œë‹¤ (J)", "í•„ìš”í•  ë•Œë§Œ ì²´í¬í•œë‹¤ (P)")}
]

# MBTI ì„±ê²© ë° ê¶í•© ë°ì´í„°
mbti_info = {
    "INTJ": "ì „ëµì ì´ê³  ê³„íšì ì¸ ì„±í–¥, ëª©í‘œ ì§€í–¥ì .",
    "INTP": "ë…¼ë¦¬ì ì´ê³  ë¶„ì„ì ì¸ ì„±í–¥, ì•„ì´ë””ì–´ íƒêµ¬ë¥¼ ì¢‹ì•„í•¨.",
    "ENTJ": "ë¦¬ë”ì‹­ì´ ê°•í•˜ê³  ëª©í‘œ ë‹¬ì„±ì— ëŠ¥ìˆ™í•¨.",
    "ENTP": "ì°½ì˜ì ì´ê³  ë„ì „ì ì¸ ì„±í–¥, ìƒˆë¡œìš´ ì•„ì´ë””ì–´ë¥¼ ì¦ê¹€.",
    "INFJ": "ê¹Šì€ í†µì°°ë ¥ê³¼ ì´ìƒì£¼ì˜ì  ì„±í–¥.",
    "INFP": "ì´ìƒì ì´ê³  ê°€ì¹˜ ì¤‘ì‹¬ì ì¸ ì„±í–¥.",
    "ENFJ": "ì‚¬ëŒë“¤ì„ ì´ë„ëŠ” ëŠ¥ë ¥ê³¼ ë”°ëœ»í•œ ë°°ë ¤ì‹¬.",
    "ENFP": "ì—´ì •ì ì´ê³  ì°½ì˜ì ì¸ ì„±í–¥, ìƒˆë¡œìš´ ê²½í—˜ì„ ì¢‹ì•„í•¨.",
    "ISTJ": "ì‹ ì¤‘í•˜ê³  ì±…ì„ê°ì´ ê°•í•˜ë©° ì²´ê³„ì ì¸ ì„±í–¥.",
    "ISFJ": "ë°°ë ¤ì‹¬ì´ ê¹Šê³  ì„±ì‹¤í•˜ë©° ì•ˆì •ì ì¸ ì„±í–¥.",
    "ESTJ": "ì¡°ì§ì ì´ê³  ì‹¤ìš©ì ì¸ ì„±í–¥, ê°•í•œ ì¶”ì§„ë ¥.",
    "ESFJ": "ì¹œì ˆí•˜ê³  ì‚¬êµì ì¸ ì„±í–¥, íƒ€ì¸ì„ ë•ëŠ” ê²ƒì„ ì¦ê¹€.",
    "ISTP": "ë¬¸ì œ í•´ê²° ëŠ¥ë ¥ì´ ë›°ì–´ë‚˜ê³  ì‹¤ìš©ì ì¸ ì„±í–¥.",
    "ISFP": "ì˜¨í™”í•˜ê³  ì˜ˆìˆ ì ì¸ ì„±í–¥, ììœ ë¥¼ ì¤‘ì‹œí•¨.",
    "ESTP": "í™œë™ì ì´ê³  ì¦‰í¥ì ì¸ ì„±í–¥, ëª¨í—˜ì„ ì¦ê¹€.",
    "ESFP": "ì‚¬êµì ì´ê³  ì—ë„ˆì§€ê°€ ë„˜ì¹˜ëŠ” ì„±í–¥."
}

# í˜ì´ì§€ ì„¤ì •
st.set_page_config(page_title="ë¹ ë¥¸ MBTI ê²€ì‚¬", page_icon="ğŸ§ ")
st.title("ğŸ§  ë¹ ë¥¸ MBTI ê²€ì‚¬")
st.write("8ë¬¸í•­ìœ¼ë¡œ ê°„ë‹¨íˆ MBTIë¥¼ ì•Œì•„ë´…ë‹ˆë‹¤.")

# ì‚¬ìš©ì ë‹µë³€ ì €ì¥
answers = {}

for idx, q in enumerate(questions):
    choice = st.radio(f"{idx+1}. {q['q']}", q["a"], index=None)
    answers[idx] = choice

# ê²€ì‚¬ ë²„íŠ¼
if st.button("ê²€ì‚¬ ê²°ê³¼ ë³´ê¸°"):
    if None in answers.values():
        st.warning("ëª¨ë“  ì§ˆë¬¸ì— ë‹µí•´ì£¼ì„¸ìš”.")
    else:
        # ê²°ê³¼ ê³„ì‚°
        score = {"E": 0, "I": 0, "S": 0, "N": 0, "T": 0, "F": 0, "J": 0, "P": 0}
        for idx, ans in answers.items():
            dim = questions[idx]["type"]
            if ans.endswith("(E)"): score["E"] += 1
            if ans.endswith("(I)"): score["I"] += 1
            if ans.endswith("(S)"): score["S"] += 1
            if ans.endswith("(N)"): score["N"] += 1
            if ans.endswith("(T)"): score["T"] += 1
            if ans.endswith("(F)"): score["F"] += 1
            if ans.endswith("(J)"): score["J"] += 1
            if ans.endswith("(P)"): score["P"] += 1

        mbti_result = (
            ("E" if score["E"] > score["I"] else "I") +
            ("S" if score["S"] > score["N"] else "N") +
            ("T" if score["T"] > score["F"] else "F") +
            ("J" if score["J"] > score["P"] else "P")
        )

        st.subheader(f"ğŸ“Œ ë‹¹ì‹ ì˜ MBTIëŠ” **{mbti_result}** ì…ë‹ˆë‹¤!")
        st.write(mbti_info[mbti_result])

# í‘¸í„°
st.markdown("---")
st.caption("Made with â¤ï¸ using Streamlit")

